<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ARSLAN ‚Äî Facturas (Full Screen)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="app">

    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">ü•ù</div>
        <div>
          <div class="title">ARSLAN</div>
          <div class="subtitle">FACTURAS ‚Äî Pantalla completa</div>
        </div>
      </div>

      <nav class="tabs">
        <button class="tab active" data-tab="facturas">üßæ Facturas</button>
        <button class="tab" data-tab="productos">üè∑Ô∏è Productos</button>
      </nav>
    </header>

    <!-- MAIN -->
    <main class="main">

      <!-- FACTURAS -->
      <section id="tab-facturas" class="screen active">
        <div class="panel panel-header">
          <div class="panel-row">
            <div class="field">
              <label>Cliente</label>
              <input id="invCliente" class="input" placeholder="Ej: RIVIERA / BRASEROS / etc..." />
            </div>

            <div class="field small">
              <label>Fecha</label>
              <input id="invFecha" class="input" type="date" />
            </div>

            <div class="field small">
              <label>N¬∫</label>
              <input id="invNumero" class="input" placeholder="FA-..." />
            </div>

            <div class="actions">
              <button id="btnAddLinea" class="btn primary">+ A√±adir l√≠nea</button>
              <button id="btnGuardarFactura" class="btn">üíæ Guardar</button>
              <button id="btnLimpiarFactura" class="btn danger">üßπ Limpiar</button>
            </div>
          </div>

          <div class="hint">
            ‚úÖ Autocomplete recomendado (NO auto-sustituye). Usa <b>‚Üì/‚Üë</b> para elegir y <b>Enter</b> para seleccionar.
          </div>
        </div>

        <!-- LISTA LINEAS -->
        <div class="panel panel-lines">
          <div class="lines-head">
            <div class="col qty">Cant</div>
            <div class="col name">Producto</div>
            <div class="col unit">Unidad</div>
            <div class="col kgbox">Kg/Caja</div>
            <div class="col price">Precio</div>
            <div class="col total">Total</div>
            <div class="col del"></div>
          </div>

          <div id="lineasWrap" class="lines-wrap"></div>
        </div>

        <!-- TOTALES -->
        <div class="panel panel-footer">
          <div class="totals">
            <div class="totalbox">
              <div class="tlabel">Subtotal</div>
              <div id="subTotal" class="tvalue">0,00 ‚Ç¨</div>
            </div>
            <div class="totalbox">
              <div class="tlabel">IVA (%)</div>
              <input id="invIva" class="input mini" type="number" step="0.01" value="0" />
            </div>
            <div class="totalbox">
              <div class="tlabel">IVA ‚Ç¨</div>
              <div id="ivaEuro" class="tvalue">0,00 ‚Ç¨</div>
            </div>
            <div class="totalbox strong">
              <div class="tlabel">TOTAL</div>
              <div id="grandTotal" class="tvalue big">0,00 ‚Ç¨</div>
            </div>
          </div>

          <div class="footnote">
            üîí Todo se guarda en <b>localStorage</b> (despu√©s lo conectamos con nube real si quieres).
          </div>
        </div>
      </section>

      <!-- PRODUCTOS -->
      <section id="tab-productos" class="screen">
        <div class="panel panel-header">
          <div class="panel-row">
            <div class="field grow">
              <label>Buscar producto</label>
              <input id="prodSearch" class="input" placeholder="Escribe: TOMATE, MANDARINA, KIWI..." />
            </div>
            <div class="actions">
              <button id="btnNuevoProducto" class="btn primary">+ Nuevo</button>
              <button id="btnExportProductos" class="btn">üì§ Export JSON</button>
              <button id="btnImportProductos" class="btn">üì• Import JSON</button>
              <input id="importFile" type="file" accept="application/json" hidden />
            </div>
          </div>
          <div class="hint">
            Aqu√≠ pones <b>precio</b> y si es <b>caja</b> tambi√©n <b>Kg por caja</b>. Se guarda historial (√∫ltimas 5).
          </div>
        </div>

        <div class="panel panel-products">
          <div class="products-head">
            <div class="pcol pname">Producto</div>
            <div class="pcol punit">Unidad</div>
            <div class="pcol pkgbox">Kg/Caja</div>
            <div class="pcol pprice">Precio</div>
            <div class="pcol phist">Historial (√∫ltimas 5)</div>
            <div class="pcol pbtn"></div>
          </div>

          <div id="productsWrap" class="products-wrap"></div>
        </div>
      </section>

    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
