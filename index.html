<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARSLAN PRO V10.4 ‚Äî KIWI Edition</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>

<body>
  <header class="header">
    <div class="brand">
      <img src="logo-kiwi.png" alt="Kiwi" />
      <h1>ARSLAN PRO <span>KIWI Edition</span></h1>
    </div>
    <div id="palette">
      <button data-theme="kiwi" title="Kiwi"></button>
      <button data-theme="graphite" title="Graphite"></button>
      <button data-theme="sand" title="Sand"></button>
      <button data-theme="mint" title="Mint"></button>
    </div>
  </header>

  <nav class="tabs">
    <button class="tab active" data-tab="factura">Factura</button>
    <button class="tab" data-tab="facturas">Facturas</button>
    <button class="tab" data-tab="clientes">Clientes</button>
    <button class="tab" data-tab="productos">Productos</button>
    <button class="tab" data-tab="pendientes">Pendientes</button>
    <button class="tab" data-tab="resumen">Resumen</button>
  </nav>

  <!-- PANEL FACTURA -->
  <section id="factura" class="panel">
    <div class="grid2">
      <div class="card">
        <h2>Datos proveedor</h2>
        <input id="provNombre" placeholder="Nombre" value="Mohammad Arslan Waris">
        <input id="provNif" placeholder="NIF" value="X6389988J">
        <input id="provDir" placeholder="Direcci√≥n" value="Calle San Pablo 17, Burgos">
        <input id="provTel" placeholder="Tel√©fono" value="631667893">
        <input id="provEmail" placeholder="Email" value="shaniwaris80@gmail.com">
      </div>

      <div class="card">
        <h2>Datos cliente</h2>
        <select id="selCliente"></select>
        <input id="cliNombre" placeholder="Nombre / Raz√≥n social">
        <input id="cliNif" placeholder="NIF / CIF">
        <input id="cliDir" placeholder="Direcci√≥n">
        <input id="cliTel" placeholder="Tel√©fono">
        <input id="cliEmail" placeholder="Email">
      </div>
    </div>

    <div class="card">
      <div class="table-wrap">
        <table class="calc-table">
          <thead>
            <tr>
              <th>Producto</th><th>Modo</th><th>Cant</th><th>Bruto</th><th>Tara</th><th>Neto</th><th>Precio</th><th>Origen</th><th>Importe</th><th></th>
            </tr>
          </thead>
          <tbody id="lineasBody"></tbody>
        </table>
      </div>
      <button id="btnAddLinea" class="ghost">+ A√±adir l√≠nea</button>
    </div>

    <div class="card totals-grid">
      <div>Subtotal:</div><div id="subtotal">0,00 ‚Ç¨</div>
      <div>Transporte (+10%):</div><div id="transp">0,00 ‚Ç¨</div>
      <div>IVA (4%):</div><div id="iva">0,00 ‚Ç¨</div>
      <div class="big">TOTAL:</div><div class="big" id="total">0,00 ‚Ç¨</div>
    </div>

    <div class="grid3">
      <label><input type="checkbox" id="chkTransporte"> Transporte +10%</label>
      <label><input type="checkbox" id="chkIvaIncluido" checked> IVA incluido</label>
      <select id="estado">
        <option value="pendiente">Pendiente</option>
        <option value="parcial">Parcial</option>
        <option value="pagado">Pagado</option>
      </select>
    </div>

    <div class="grid3">
      <input id="pagado" type="number" placeholder="Pagado (‚Ç¨)">
      <select id="metodoPago">
        <option>Efectivo</option><option>Tarjeta</option><option>Transferencia</option>
      </select>
      <input id="observaciones" placeholder="Observaciones (opcional)">
    </div>

    <div class="btns">
      <button id="btnGuardar">üíæ Guardar</button>
      <button id="btnNueva" class="ghost">üßæ Nueva</button>
      <button id="btnImprimir" class="ghost">üñ®Ô∏è PDF</button>
    </div>

    <div id="printArea" class="print">
      <div class="pdf-header">
        <div class="pdf-brand">
          <img src="logo-kiwi.png" alt="Kiwi">
          <div id="p-prov"></div>
        </div>
        <div id="p-cli"></div>
      </div>
      <hr>
      <div class="pdf-meta">
        <div><strong>Factura:</strong> <span id="p-num"></span></div>
        <div><strong>Fecha:</strong> <span id="p-fecha"></span></div>
      </div>
      <table id="p-tabla" class="calc-table">
        <thead><tr><th>Producto</th><th>Modo</th><th>Cant</th><th>Bruto</th><th>Tara</th><th>Neto</th><th>Precio</th><th>Origen</th><th>Importe</th></tr></thead>
        <tbody></tbody>
      </table>
      <div class="pdf-totales">
        <div>
          <div>Subtotal: <span id="p-sub"></span></div>
          <div>Transporte: <span id="p-tra"></span></div>
          <div>IVA: <span id="p-iva"></span></div>
          <div><strong>Total: <span id="p-tot"></span></strong></div>
        </div>
        <canvas id="p-qr"></canvas>
      </div>
      <div class="pdf-foot">
        <div id="pdf-foot-note"></div>
        <div>Estado: <span id="p-estado"></span> ‚Äî M√©todo: <span id="p-metodo"></span></div>
        <div>Observaciones: <span id="p-obs"></span></div>
      </div>
    </div>
  </section>

  <!-- PANEL FACTURAS -->
  <section id="facturas" class="panel hidden">
    <div class="grid3">
      <input id="buscaCliente" placeholder="Buscar cliente...">
      <select id="filtroEstado">
        <option value="todas">Todas</option>
        <option value="pendiente">Pendientes</option>
        <option value="parcial">Parciales</option>
        <option value="pagado">Pagadas</option>
      </select>
    </div>
    <div id="listaFacturas" class="list"></div>
  </section>

  <!-- PANEL CLIENTES -->
  <section id="clientes" class="panel hidden">
    <div class="btns"><button id="btnAddCliente">+ A√±adir cliente</button></div>
    <div id="listaClientes" class="list"></div>
  </section>

  <!-- PANEL PRODUCTOS -->
  <section id="productos" class="panel hidden">
    <div class="btns"><button id="btnAddProducto">+ A√±adir producto</button></div>
    <div id="listaProductos" class="list"></div>
  </section>

  <!-- PANEL PENDIENTES -->
  <section id="pendientes" class="panel hidden">
    <table id="tblPendientes" class="calc-table">
      <thead><tr><th>Cliente</th><th>#Facturas</th><th>Pendiente</th><th>√öltima</th><th></th></tr></thead>
      <tbody></tbody>
    </table>
    <div class="totals-grid"><div>Total global pendiente:</div><div id="resGlobal">0,00 ‚Ç¨</div></div>
  </section>

  <!-- PANEL RESUMEN -->
  <section id="resumen" class="panel hidden">
    <div class="kpis">
      <div class="kpi"><strong id="rHoy">0,00 ‚Ç¨</strong><span>Hoy</span></div>
      <div class="kpi"><strong id="rSemana">0,00 ‚Ç¨</strong><span>Semana</span></div>
      <div class="kpi"><strong id="rMes">0,00 ‚Ç¨</strong><span>Mes</span></div>
      <div class="kpi"><strong id="rTotal">0,00 ‚Ç¨</strong><span>Total</span></div>
    </div>
    <canvas id="chartDiario" height="100"></canvas>
    <canvas id="chartMensual" height="100"></canvas>
    <div class="btns">
      <button id="btnBackup" class="ghost">üíæ Copia</button>
      <button id="btnRestore" class="ghost">‚ôªÔ∏è Restaurar</button>
    </div>
  </section>

  <script src="app.js"></script>
</body>
</html>
